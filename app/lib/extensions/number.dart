import 'package:flutter/material.dart';
import 'package:flutter_svg/flutter_svg.dart';

extension NumberExtension on num {
  Widget nashFormat({
    double iconSize = 24,
    Color? iconColor,
    TextStyle? style,
    Widget? leading,
    Widget? trailing,
  }) {
    final parts = toStringAsFixed(2).split('.');

    final reg = RegExp(r'\B(?=(\d{3})+(?!\d))');

    parts[0] = parts[0].replaceAll(reg, ',');

    return Row(
      mainAxisSize: MainAxisSize.min,
      children: [
        if (leading != null) leading,
        MyDynamicIcon(iconColor: iconColor, iconSize: iconSize),
        Text(parts.join('.'), style: style),
        if (trailing != null) trailing,
      ],
    );
  }
}

class MyDynamicIcon extends StatelessWidget {
  final Color? iconColor;
  final double iconSize;

  const MyDynamicIcon({
    super.key,
    required this.iconColor,
    required this.iconSize,
  });

  @override
  Widget build(BuildContext context) {
    return SvgPicture.string(
      _mySvgString,
      width: iconSize,
      height: iconSize,
      colorFilter: ColorFilter.mode(iconColor ?? Colors.black, BlendMode.srcIn),
    );
  }
}

const String _mySvgString = '''
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="100%" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">

<path fill="#010101" opacity="1.000000" stroke="none" 
	d="
M246.019897,384.998566 
	C270.181793,384.998566 293.847656,385.001312 317.513489,384.997864 
	C345.838074,384.993713 363.747589,367.138702 363.747101,338.916382 
	C363.745605,256.919250 363.745636,174.922089 363.745056,92.924950 
	C363.745056,90.937073 363.745056,88.949188 363.745056,86.602913 
	C377.901459,86.602913 391.782135,86.602913 406.041534,86.602913 
	C406.113831,88.253769 406.245880,89.865135 406.246094,91.476517 
	C406.257568,174.140305 406.310730,256.804169 406.235382,339.467865 
	C406.201019,377.160553 388.913788,404.190460 355.048370,420.519775 
	C344.723236,425.498352 333.543427,427.624573 322.127472,427.663086 
	C279.796204,427.805908 237.464203,427.738037 195.132477,427.740997 
	C194.651733,427.741028 194.170975,427.629608 193.347672,427.527924 
	C193.347672,342.450745 193.347672,257.396271 193.347672,172.045761 
	C207.174759,172.045761 221.081467,172.045761 235.567780,172.045761 
	C235.567780,242.869308 235.567780,313.726349 235.567780,384.998566 
	C239.262344,384.998566 242.393082,384.998566 246.019897,384.998566 
z"/>
<path fill="#010101" opacity="1.000000" stroke="none" 
	d="
M150.254639,212.000153 
	C150.254654,284.104340 150.254654,355.708496 150.254654,427.533875 
	C135.940338,427.533875 122.178047,427.533875 108.080200,427.533875 
	C108.080200,313.850189 108.080200,200.307693 108.080200,86.462318 
	C109.629814,86.386627 111.088356,86.253571 112.546928,86.253136 
	C153.042908,86.241089 193.539078,86.163261 234.034790,86.263382 
	C276.795135,86.369095 311.041199,114.275818 319.466339,155.868210 
	C320.451721,160.732803 320.918762,165.785355 320.927856,170.752060 
	C321.030701,226.912949 320.997162,283.074097 321.000183,339.235168 
	C321.000244,340.044189 321.000153,340.853210 321.000153,341.955200 
	C306.823608,341.955200 292.917389,341.955200 278.246307,341.955200 
	C278.246307,340.249420 278.246246,338.505890 278.246338,336.762360 
	C278.248718,282.767731 278.258331,228.773087 278.250488,174.778458 
	C278.246399,146.730453 260.473999,129.008957 232.367966,129.002396 
	C205.212708,128.996033 178.057449,129.001022 150.254639,129.001022 
	C150.254639,156.640106 150.254639,184.070129 150.254639,212.000153 
z"/>
</svg>''';
